(function(){"use strict";var t={9325:function(t,e,r){var n,o,s=r(5130),i=r(657),a=r(6768),l=r(4232);(function(t){t["home"]="home",t["article"]="article",t["authors"]="authors",t["author"]="author"})(n||(n={})),function(t){t["home"]="/",t["article"]="/articles/",t["authors"]="/authors",t["author"]="/authors/"}(o||(o={}));var u=(0,a.pM)({__name:"App",setup(t){const e=[{label:"Articles",to:o.home},{label:"Authors",to:o.authors}];return(t,r)=>{const n=(0,a.g2)("router-link"),o=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("nav",null,[((0,a.uX)(),(0,a.CE)(a.FK,null,(0,a.pI)(e,(t=>(0,a.bF)(n,{key:t.to,to:t.to},{default:(0,a.k6)((()=>[(0,a.eW)((0,l.v_)(t.label),1)])),_:2},1032,["to"]))),64))]),(0,a.bF)(o)],64)}}});const c=u;var p=c,v=r(1387),h=r(144);const d={key:0},f={key:1},y={key:0};var m=(0,a.pM)({__name:"list",props:{title:{type:String,default:""},subtitle:{type:String,default:""},list:{type:Array,default:()=>[]},isArticles:{type:Boolean,default:!1}},setup(t){return(e,r)=>{const n=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)(a.FK,null,[t.title?((0,a.uX)(),(0,a.CE)("h1",d,(0,l.v_)(t.title),1)):(0,a.Q3)("",!0),t.subtitle?((0,a.uX)(),(0,a.CE)("h2",f,(0,l.v_)(t.subtitle),1)):(0,a.Q3)("",!0),(0,a.Lk)("ul",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.list,(e=>((0,a.uX)(),(0,a.CE)("li",{key:e.id},[(0,a.bF)(n,{to:`/articles/${e.id}`,style:(0,l.Tr)({color:"isViewed"in e&&e.isViewed?"green":""})},{default:(0,a.k6)((()=>[(0,a.eW)((0,l.v_)("title"in e?e.title:e.name),1)])),_:2},1032,["to","style"]),t.isArticles?((0,a.uX)(),(0,a.CE)("span",y,"by")):(0,a.Q3)("",!0),t.isArticles?((0,a.uX)(),(0,a.Wv)(n,{key:1,to:`/authors/${e.userId}`},{default:(0,a.k6)((()=>[(0,a.eW)((0,l.v_)(e.userId),1)])),_:2},1032,["to"])):(0,a.Q3)("",!0)])))),128))])],64)}}});const w=m;var b=w;r(4114);const _=(0,i.nY)("viewedArticles",{state:()=>({viewedArticles:JSON.parse(localStorage.getItem("viewedArticles")||"[]")}),actions:{addArticle(t){this.viewedArticles.includes(t)||(this.viewedArticles.push(t),this.saveToLocalStorage())},saveToLocalStorage(){localStorage.setItem("viewedArticles",JSON.stringify(this.viewedArticles))}}});var k=(0,a.pM)({__name:"index",setup(t){const e=(0,v.lq)(),r=_(),n=(0,h.KR)([]);(0,a.sV)((async()=>{const t=await fetch("https://jsonplaceholder.typicode.com/posts");n.value=await t.json()}));const o=(0,a.EW)((()=>{const t=e.query.author,r=n.value.map((t=>({...t,isViewed:s(t.id.toString())})));return t?r.filter((e=>e.userId.toString()===t)):r})),s=t=>r.viewedArticles.includes(t);return(t,e)=>((0,a.uX)(),(0,a.Wv)(b,{title:"Articles",list:o.value,"is-articles":!0},null,8,["list"]))}});const g=k;var A=g;const j={key:0};var E=(0,a.pM)({__name:"[id]",setup(t){const e=(0,v.lq)(),r=_(),n=(0,h.KR)(null);return(0,a.sV)((async()=>{const t=e.params.id,o=await fetch(`https://jsonplaceholder.typicode.com/posts/${t}`);n.value=await o.json(),n.value&&r.addArticle(t)})),(t,e)=>{const r=(0,a.g2)("router-link");return n.value?((0,a.uX)(),(0,a.CE)("div",j,[(0,a.Lk)("h1",null,(0,l.v_)(n.value.title),1),(0,a.Lk)("p",null,(0,l.v_)(n.value.body),1),(0,a.bF)(r,{to:`/authors/${n.value.userId}`},{default:(0,a.k6)((()=>[(0,a.eW)(" Author: "+(0,l.v_)(n.value.userId),1)])),_:1},8,["to"])])):(0,a.Q3)("",!0)}}});const O=E;var X=O,C=(0,a.pM)({__name:"index",setup(t){const e=(0,h.KR)([]);return(0,a.sV)((async()=>{const t=await fetch("https://jsonplaceholder.typicode.com/users");e.value=await t.json()})),(t,r)=>((0,a.uX)(),(0,a.Wv)(b,{title:"Authors",list:e.value},null,8,["list"]))}});const I=C;var S=I,F=(0,a.pM)({__name:"[id]",setup(t){const e=(0,v.lq)(),r=(0,h.KR)(null),n=(0,h.KR)([]);return(0,a.sV)((async()=>{const t=e.params.id,[o,s]=await Promise.all([fetch(`https://jsonplaceholder.typicode.com/users/${t}`),fetch(`https://jsonplaceholder.typicode.com/posts?userId=${t}`)]);r.value=await o.json(),n.value=await s.json()})),(t,e)=>r.value?((0,a.uX)(),(0,a.Wv)(b,{key:0,title:r.value.name,subtitle:"Articles by this author:",list:n.value},null,8,["title","list"])):(0,a.Q3)("",!0)}});const K=F;var W=K;const $=[{path:o.home,name:n.home,component:A},{path:`${o.article}:id`,name:n.article,component:X},{path:o.authors,name:n.authors,component:S},{path:`${o.author}:id`,name:n.author,component:W}],x=(0,v.aE)({history:(0,v.LA)("/articles/"),routes:$});var L=x;const M=(0,i.Ey)(),V=(0,s.Ef)(p);V.use(M),V.use(L),V.mount("#app")}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var s=e[n]={exports:{}};return t[n].call(s.exports,s,s.exports,r),s.exports}r.m=t,function(){var t=[];r.O=function(e,n,o,s){if(!n){var i=1/0;for(c=0;c<t.length;c++){n=t[c][0],o=t[c][1],s=t[c][2];for(var a=!0,l=0;l<n.length;l++)(!1&s||i>=s)&&Object.keys(r.O).every((function(t){return r.O[t](n[l])}))?n.splice(l--,1):(a=!1,s<i&&(i=s));if(a){t.splice(c--,1);var u=o();void 0!==u&&(e=u)}}return e}s=s||0;for(var c=t.length;c>0&&t[c-1][2]>s;c--)t[c]=t[c-1];t[c]=[n,o,s]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={524:0};r.O.j=function(e){return 0===t[e]};var e=function(e,n){var o,s,i=n[0],a=n[1],l=n[2],u=0;if(i.some((function(e){return 0!==t[e]}))){for(o in a)r.o(a,o)&&(r.m[o]=a[o]);if(l)var c=l(r)}for(e&&e(n);u<i.length;u++)s=i[u],r.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return r.O(c)},n=self["webpackChunkarticles"]=self["webpackChunkarticles"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=r.O(void 0,[504],(function(){return r(9325)}));n=r.O(n)})();
//# sourceMappingURL=app.386f4b0f.js.map